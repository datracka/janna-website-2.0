---
import { getCurrentLanguage, getTranslations, getLocalizedPath } from '../i18n/utils';

const currentLanguage = getCurrentLanguage(Astro.url.pathname);
const t = getTranslations(currentLanguage);
---

<footer class="bg-gray-900 text-white py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <!-- Brand -->
      <div class="md:col-span-2">
        <h3 class="text-xl font-bold mb-4">
          {t.hero.title}
        </h3>
        <p class="text-gray-300 mb-4">
          {t.hero.subtitle}
        </p>
        <p class="text-gray-400 text-sm">
          {t.hero.tagline}
        </p>
      </div>

      <!-- Quick Links -->
      <div>
        <h4 class="text-lg font-semibold mb-4">Enlaces rápidos</h4>
        <ul class="space-y-2">
          <li>
            <a href="#about" class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.nav.about}
            </a>
          </li>
          <li>
            <a href="#services" class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.nav.services}
            </a>
          </li>
          <li>
            <a href="#testimonials" class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.nav.testimonials}
            </a>
          </li>
          <li>
            <a href="#contact" class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.nav.contact}
            </a>
          </li>
        </ul>
      </div>

      <!-- Language & Legal -->
      <div>
        <h4 class="text-lg font-semibold mb-4">{t.footer.language}</h4>
        <div class="flex flex-wrap gap-2 mb-6">
          <a 
            href={getLocalizedPath(Astro.url.pathname.replace('/en', '').replace('/de', ''), 'es')}
            class={`px-3 py-1 text-sm rounded ${currentLanguage === 'es' ? 'bg-blue-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}
          >
            Español
          </a>
          <a 
            href={getLocalizedPath(Astro.url.pathname.replace('/en', '').replace('/de', ''), 'en')}
            class={`px-3 py-1 text-sm rounded ${currentLanguage === 'en' ? 'bg-blue-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}
          >
            English
          </a>
          <a 
            href={getLocalizedPath(Astro.url.pathname.replace('/en', '').replace('/de', ''), 'de')}
            class={`px-3 py-1 text-sm rounded ${currentLanguage === 'de' ? 'bg-blue-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}
          >
            Deutsch
          </a>
        </div>

        <ul class="space-y-2 text-sm">
          <li>
            <a href={getLocalizedPath('/privacy', currentLanguage)} class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.footer.privacy}
            </a>
          </li>
          <li>
            <a href={getLocalizedPath('/imprint', currentLanguage)} class="text-gray-300 hover:text-white transition-colors duration-200">
              {t.footer.imprint}
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-t border-gray-700 mt-8 pt-8 text-center">
      <p class="text-blue-400 text-sm mb-2 font-medium">
        {t.footer.certification}
      </p>
      <p class="text-gray-400 text-sm">
        {t.footer.copyright}
      </p>
    </div>
  </div>
</footer>
